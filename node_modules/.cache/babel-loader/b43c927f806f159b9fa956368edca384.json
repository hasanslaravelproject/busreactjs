{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\projectbus\\\\ReactApp\\\\src\\\\components\\\\buses\\\\BusesTable.js\",\n    _s = $RefreshSig$();\n\nimport MaterialTable from 'material-table';\nimport React, { useEffect, useState } from 'react';\nimport tableIcons from '../templates/TableIcons';\nimport getColumns from './BusesColumns';\nimport Edit from \"@material-ui/icons/Edit\";\nimport { Switch } from \"@material-ui/core\";\nimport { withRouter } from \"react-router\";\nimport { AddBox } from \"@material-ui/icons\";\nimport { deleteBuses, getBuses } from \"../../repo/busesRepo\";\nimport { Loading } from \"../templates/Loading\";\n/*\r\nDocumentation on developing the Material-Table can be found at https://material-table.com/\r\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BusesTable = props => {\n  _s();\n\n  const history = props.history;\n  const [columns, setColumns] = useState(getColumns({}));\n  const [loading, setLoading] = useState(false); //Here we call delete\n\n  const handleRowDelete = (oldData, resolve) => {\n    setLoading(true);\n    deleteBuses(oldData.id).then(res => {\n      resolve();\n      setLoading(false);\n    }).catch(error => {\n      resolve();\n      setLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(CardActionArea, {\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          component: \"img\",\n          alt: \"Contemplative Reptile\",\n          height: \"100\",\n          image: \"https://picsum.photos/200/80.jpg\",\n          title: \"Contemplative Reptile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          style: {\n            textOverflow: \"ellipsis\",\n            width: '13rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h6\",\n            component: \"h6\",\n            children: title(props.pagename)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        justify: \"flex-end\",\n        alignContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            width: '100%'\n          },\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleNavigation,\n          children: \"View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(MaterialTable, {\n      minRows: 20,\n      title: \"Buses Data\",\n      columns: columns,\n      data: async (query) => {\n        setLoading(true);\n        const res = await getBuses(query.page, query.pageSize, query.search);\n        setLoading(false);\n        return {\n          data: res.data,\n          page: query.page,\n          totalCount: parseInt(res.total)\n        };\n      },\n      options: {\n        sorting: true,\n        actionsColumnIndex: -1,\n        pageSize: 20,\n        toolbar: true,\n        paging: true\n      },\n      actions: [{\n        icon: () => /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 28\n        }, this),\n        tooltip: 'Edit',\n        onClick: (event, rowData) => {\n          history.push({\n            pathname: `/buses/update/${rowData.id}`,\n            user: rowData\n          });\n        }\n      }, {\n        icon: () => /*#__PURE__*/_jsxDEV(AddBox, {\n          variant: \"contained\",\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 23\n        }, this),\n        tooltip: 'Add New',\n        // This makes add button to appear in table toolbar instead for each row\n        isFreeAction: true,\n        onClick: (event, rowData) => {\n          history.push(\"/buses/add\");\n        }\n      }],\n      icons: tableIcons,\n      editable: {\n        onRowDelete: oldData => new Promise(resolve => {\n          handleRowDelete(oldData, resolve);\n        })\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BusesTable, \"ItgnYk0lgCUF36Sr7FU/VV0WMVE=\");\n\n_c = BusesTable;\nexport default _c2 = withRouter(BusesTable);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BusesTable\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/xampp/htdocs/projectbus/ReactApp/src/components/buses/BusesTable.js"],"names":["MaterialTable","React","useEffect","useState","tableIcons","getColumns","Edit","Switch","withRouter","AddBox","deleteBuses","getBuses","Loading","BusesTable","props","history","columns","setColumns","loading","setLoading","handleRowDelete","oldData","resolve","id","then","res","catch","error","classes","root","textOverflow","width","title","pagename","handleNavigation","query","page","pageSize","search","data","totalCount","parseInt","total","sorting","actionsColumnIndex","toolbar","paging","icon","tooltip","onClick","event","rowData","push","pathname","user","isFreeAction","onRowDelete","Promise"],"mappings":"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","sourcesContent":["import MaterialTable from 'material-table';\r\nimport React, {useEffect, useState} from 'react';\r\nimport tableIcons from '../templates/TableIcons';\r\nimport getColumns from './BusesColumns';\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport { Switch } from \"@material-ui/core\";\r\nimport {withRouter} from \"react-router\";\r\nimport {AddBox} from \"@material-ui/icons\";\r\nimport {deleteBuses, getBuses} from \"../../repo/busesRepo\";\r\nimport { Loading } from \"../templates/Loading\";\r\n/*\r\nDocumentation on developing the Material-Table can be found at https://material-table.com/\r\n*/\r\n\r\nconst BusesTable = (props) => {\r\n    const history = props.history;\r\n    const [columns, setColumns] = useState(getColumns({}));\r\n    const [loading, setLoading] = useState(false);\r\n    //Here we call delete\r\n    const handleRowDelete = (oldData, resolve) => {\r\n    setLoading(true);\r\n        deleteBuses(oldData.id)\r\n            .then(res => {\r\n                resolve();\r\n                setLoading(false);\r\n            })\r\n            .catch(error => {\r\n                resolve();\r\n                setLoading(false);\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n    <div>\r\n\r\n<Card className={classes.root}>\r\n        <CardActionArea>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt=\"Contemplative Reptile\"\r\n          height=\"100\"\r\n          image=\"https://picsum.photos/200/80.jpg\"\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n           <CardContent style={{textOverflow: \"ellipsis\", width: '13rem'}}>\r\n            <Typography gutterBottom variant=\"h6\" component=\"h6\">\r\n            {title(props.pagename)}\r\n            </Typography>\r\n           \r\n          </CardContent>\r\n        </CardActionArea>\r\n        <CardActions justify={\"flex-end\"} alignContent={\"flex-end\"}>\r\n        <Button style={{width: '100%'}}variant={\"contained\"} color=\"primary\" onClick={handleNavigation}>View</Button>\r\n          \r\n        </CardActions>\r\n      </Card>\r\n    <MaterialTable\r\n        minRows={20}\r\n        title=\"Buses Data\"\r\n        columns={columns}\r\n        data={async(query)=>\r\n            {   setLoading(true);\r\n                const res = await getBuses(query.page,query.pageSize,query.search);\r\n                setLoading(false);\r\n                return ({\r\n                    data: res.data,\r\n                    page: query.page,\r\n                    totalCount: parseInt(res.total)\r\n                })\r\n            }\r\n        }\r\n        options={{\r\n            sorting:true,\r\n            actionsColumnIndex: -1,\r\n            pageSize: 20,\r\n            toolbar: true,\r\n            paging: true\r\n        }}\r\n\r\n        actions={[\r\n            {\r\n                icon: ()=> <Edit/>,\r\n                tooltip: 'Edit',\r\n                onClick: (event,rowData) =>{\r\n                    history.push({\r\n                        pathname:`/buses/update/${rowData.id}`,\r\n                        user:rowData\r\n                    })\r\n                }\r\n            },\r\n            {\r\n            icon: ()=><AddBox variant=\"contained\" color=\"secondary\"/>,\r\n                tooltip: 'Add New',\r\n                // This makes add button to appear in table toolbar instead for each row\r\n                isFreeAction: true,\r\n                onClick: (event, rowData) => {\r\n                    history.push(\"/buses/add\")\r\n                }\r\n            }\r\n        ]}\r\n\r\n        icons={tableIcons}\r\n        editable={{\r\n          onRowDelete: (oldData) =>\r\n            new Promise((resolve) => {\r\n              handleRowDelete(oldData, resolve)\r\n            }),\r\n        }}\r\n\r\n      />\r\n    </div>);\r\n}\r\nexport default withRouter(BusesTable);\r\n"]},"metadata":{},"sourceType":"module"}